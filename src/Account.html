<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Account Page</title>
    <link rel="shortcut icon" href="https://fakestoreapi.com/icons/logo.png" type="image/x-icon">
    <link href="https://cdn.jsdelivr.net/npm/remixicon@4.5.0/fonts/remixicon.css" rel="stylesheet" />
    <script src="https://cdn.jsdelivr.net/npm/@tailwindcss/browser@4"></script>

    <script src="
https://cdn.jsdelivr.net/npm/sweetalert2@11.22.2/dist/sweetalert2.all.min.js
"></script>
    <link href="
https://cdn.jsdelivr.net/npm/sweetalert2@11.22.2/dist/sweetalert2.min.css
" rel="stylesheet">
</head>

<body>
    <div class="w-full min-h-screen  bg-zinc-100 flex justify-center items-center">

        <div
            class="max-w-[1200px] shadow-2xl rounded-2xl w-[70%] text-zinc-700 bg-white px-12  py-16 p-4 flex flex-col justify-between">
            <a href="./index.html" class="flex gap-4 items-center justify-start">
                <img class="w-10" src="https://fakestoreapi.com/icons/logo.png" alt="">
                <h4 class="text-4xl font-bold text-[#802c6e]">ShopBaby</h4>
            </a>
            <div class="flex justify-between items-center">
                <h1 class="text-[89px]  font-bold">Account</h1>
                <button id="logout-btn"
                    class="px-5 py-2 bg-red-600/80 rounded cursor-pointer hover:bg-red-950/80 scale-105 transition-all duartion-300 focus:scale-95 text-white font-bold">Log
                    Out</button>
            </div>


            <div class="flex flex-col gap-4">
                <p class="text-2xl">Account Details</p>

                <p class="text-2xl flex items-center justify-start gap-4"><span class="font-bold">Name:
                    </span><span id="name" class="border-[1px] border-zinc-700/40 px-10 py-1"></span></p>

                <p class="text-2xl flex items-center justify-start gap-4"><span class="font-bold">Email: </span><span
                        class="border-[1px] border-zinc-700/40 px-10 py-1" id="email"></span></p>

                <p class="text-2xl flex items-center justify-start gap-4"><span class="font-bold">Password: </span><span
                        class="border-[1px] border-zinc-700/40 px-10 py-1" id="password"></span></p>

            </div>

            <div id="purchased-products">
                <h2>Pushcased Products</h2>
                <div id="purchased-product" class="flex justify-center items-center">
                    <img src="" alt="">
                    <h2></h2>
                </div>
            </div>
        </div>
    </div>
</body>

</html>



<script>
    const wrapper = document.getElementById('purchased-products')
    const product = document.getElementById('purchased-product')
    let purchased = JSON.parse(localStorage.getItem('buyed-products')) || []
    const loggedInUser = JSON.parse(localStorage.getItem("logged-in-user"))
    if (!loggedInUser) {
        window.location.replace("http://127.0.0.1:5500/src/Login.html")
        alert("Please Login First")
    }

    const name = document.getElementById('name')
    const email = document.getElementById('email')
    const password = document.getElementById('password')
    const logOutBtn = document.getElementById('logout-btn')

    name.innerText = loggedInUser.name
    email.innerText = loggedInUser.email
    password.innerText = loggedInUser.password

    logOutBtn.addEventListener('click', () => {
        localStorage.removeItem('logged-in-user')
        name.innerText = ""
        email.innerText = ""
        password.innerText = ""
        swal.fire({
            icon: "success",
            showCancelButton: false,
            confirmButtonColor: "#3085d6",
            cancelButtonColor: "#d33",
            confirmButtonText: "Logged successfully"
        }).then((result) => {
            if (result.isConfirmed) {
                (window.location.pathname) = "/src/Login.html";
            }
        });
    })

    purchased.forEach(el => {
        product.innerHTML = `
               
                    <h2>${el.title}</h2>
        `
    });





</script>